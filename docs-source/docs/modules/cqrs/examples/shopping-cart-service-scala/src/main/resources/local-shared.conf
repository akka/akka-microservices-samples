akka.remote.artery.canonical.port = 2551

akka.management.cluster.bootstrap.contact-point-discovery {
  discovery-method = config
  required-contact-point-nr = 1
  # config service discovery never changes
  stable-margin = 1 ms
}

akka.discovery.config.services {
  // service name == ActorSystem name by default
  "cart" {
    endpoints = [
      {host = "127.0.0.1", port = 9101},
      {host = "127.0.0.1", port = 9102}
    ]
  }
}

akka.remote.artery.canonical.hostname = "127.0.0.1"
akka.management.http.hostname = "127.0.0.1"

// tag::kafka[]
akka.discovery.method = config

akka.discovery.config.services = {
  // The Kafka broker's bootstrap servers
  "shopping-kafka-broker" = {
    endpoints = [
      {host = "localhost", port = 9092}
    ]
  }
}
// end::kafka[]
// tag::grpc[]
akka.discovery.config.services = {
  // The Shopping Order service's gRPC endpoint
  "order-service-grpc" = {
    endpoints = [
      {host = "localhost", port = 8301}
    ]
  }
}
// end::grpc[]
